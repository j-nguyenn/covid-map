(this["webpackJsonpcovid-map"]=this["webpackJsonpcovid-map"]||[]).push([[0],[,,,,,,,,,,,,,,function(t,e,n){},function(t,e,n){},function(t,e,n){},,function(t,e,n){},function(t,e,n){},function(t,e,n){},function(t,e,n){"use strict";n.r(e);var c=n(0),a=n.n(c),r=n(6),o=n.n(r),s=(n(14),n(3)),i=(n(15),Object(c.createContext)({darkTheme:!0,setDarkTheme:function(t){}})),l=(n(16),n(1)),u=function(){var t=Object(c.useContext)(i),e=t.darkTheme,n=t.setDarkTheme;return Object(l.jsxs)("div",{className:"label ".concat(e&&"switched"),onClick:function(){return n(!e)},children:[Object(l.jsx)("i",{className:"fas fa-moon"}),Object(l.jsx)("i",{className:"fas fa-sun"}),Object(l.jsx)("div",{className:"ball"})]})},d=(n(18),function(){return Object(l.jsxs)("footer",{className:"footer-container",children:[Object(l.jsx)("div",{className:"grid",children:Object(l.jsxs)("div",{className:"avatar-container",children:[Object(l.jsx)("img",{alt:"",src:"https://media0.giphy.com/media/mVJ5xyiYkC3Vm/giphy.gif?cid=790b7611ad2812b1ccf7f99cf2e9764d8ac87928c092140a&rid=giphy.gif"}),Object(l.jsxs)("small",{children:["\xa9 2021 by",Object(l.jsx)("a",{href:"https://j-nguyenn.github.io/covid-map/",children:"JASMINE NG "})]})]})}),Object(l.jsx)("div",{className:"grid",children:Object(l.jsx)(u,{})})]})}),j=n(5),h=n(23),f=n(24),b=n(4),p=n.n(b),m=(n(19),1e6),g=function(t){var e=function(t){return t/m>10?10:t/m<1?1:t/m}(t);return"width: ".concat(e,"rem; height: ").concat(e,"rem; margin-left: -").concat(e/2,"rem; margin-top: -").concat(e/2,"rem")},O=function(t){var e,n=t.country,c=t.updated,a=t.cases,r=t.deaths,o=t.recovered,s="".concat(a);return a>1e3&&(s="".concat(s.slice(0,-3),"k+")),c&&(e=new Date(c).toLocaleString()),'\n  <div class="marker-container">\n    <span class="icon-marker-tooltip">\n        <h2>'.concat(n,"</h2>\n        <ul>\n        <li><strong>Confirmed:</strong> ").concat(a,"</li>\n        <li><strong>Deaths:</strong> ").concat(r,"</li>\n        <li><strong>Recovered:</strong> ").concat(o,"</li>\n        <li><strong>Last Update:</strong> ").concat(e,'</li>\n        </ul>\n    </span>\n    <span class="icon-marker" style="').concat(g(a),'">\n        ').concat(s,"\n    </span>\n  </div>\n        ")},v=function(){var t=Object(c.useState)([]),e=Object(s.a)(t,2),n=e[0],a=e[1],r=Object(c.useState)(),o=Object(s.a)(r,2),u=o[0],d=o[1],b=Object(c.useRef)(!1),m=Object(c.useContext)(i).darkTheme;console.log(m);var g=Object(c.useCallback)((function(){fetch("https://corona.lmao.ninja/v2/countries").then((function(t){return t.json()})).then((function(t){a(t)})).catch((function(t){console.warn({err:t})}))}),[]);Object(c.useEffect)((function(){g()}),[]),Object(c.useEffect)((function(){u&&n&&!b.current&&v(n)}),[u,n]);var v=function(t){if(Array.isArray(t)&&t.length>0){var e={type:"FeatureCollection",features:t.map((function(t){var e=t.countryInfo,n=void 0===e?{}:e,c=n.lat,a=n.long;return{type:"Feature",properties:Object(j.a)({},t),geometry:{type:"Point",coordinates:[a,c]}}}))};new p.a.GeoJSON(e,{pointToLayer:function(t,e){var n=t.properties,c=void 0===n?{}:n;return p.a.marker(e,{icon:p.a.divIcon({className:"icon",html:O(c)}),riseOnHover:!0})}}).addTo(u),b.current=!0}};return Object(l.jsx)(h.a,{center:[0,0],zoom:2.3,scrollWheelZoom:!1,whenCreated:d,children:Object(l.jsx)(f.a,{attribution:m?'&copy; <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a> &copy; <a href="http://cartodb.com/attributions">CartoDB</a>':'&copy; <a href="http://osm.org/copyright">OpenStreetMap</a> contributors',url:m?"https://cartodb-basemaps-{s}.global.ssl.fastly.net/dark_all/{z}/{x}/{y}.png":"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"})})},x=function(){var t=Object(c.useState)(!0),e=Object(s.a)(t,2),n=e[0],a=e[1];return Object(l.jsxs)(i.Provider,{value:{darkTheme:n,setDarkTheme:a},children:[Object(l.jsx)(v,{}),Object(l.jsx)(d,{})]})};n(20);var y=function(){return Object(l.jsx)("div",{children:Object(l.jsx)(x,{})})},k=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,25)).then((function(e){var n=e.getCLS,c=e.getFID,a=e.getFCP,r=e.getLCP,o=e.getTTFB;n(t),c(t),a(t),r(t),o(t)}))};o.a.render(Object(l.jsx)(a.a.StrictMode,{children:Object(l.jsx)(y,{})}),document.getElementById("root")),k()}],[[21,1,2]]]);
//# sourceMappingURL=main.516457c1.chunk.js.map