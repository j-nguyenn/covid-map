(this["webpackJsonpcovid-map"]=this["webpackJsonpcovid-map"]||[]).push([[0],[,,,,,,,,,,,,,,,,,function(e,t,c){},function(e,t,c){},function(e,t,c){},,function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){"use strict";c.r(t);var a=c(0),n=c.n(a),s=c(9),r=c.n(s),i=(c(17),c(2)),l=(c(18),c(19),c(1)),o=function(){return Object(l.jsx)("footer",{className:"footer-container",children:Object(l.jsx)("div",{className:"grid",children:Object(l.jsxs)("div",{className:"avatar-container",children:[Object(l.jsx)("img",{alt:"",src:"https://media0.giphy.com/media/mVJ5xyiYkC3Vm/giphy.gif?cid=790b7611ad2812b1ccf7f99cf2e9764d8ac87928c092140a&rid=giphy.gif"}),Object(l.jsxs)("small",{children:["\xa9 2021 by",Object(l.jsx)("a",{href:"https://j-nguyenn.github.io/covid-map/",children:"JASMINE NG "})]})]})})})},b=c(5),d=c(26),j=c(27),h=c(28),u=c(4),m=c.n(u),O=(c(21),1e6),g=function(e){var t=function(e){return e/O>10?10:e/O<1?1:e/O}(e);return"width: ".concat(t,"rem; height: ").concat(t,"rem; margin-left: -").concat(t/2,"rem; margin-top: -").concat(t/2,"rem")},p=function(e){var t,c=e.country,a=e.updated,n=e.cases,s=e.deaths,r=e.recovered,i="".concat(n);return n>1e3&&(i="".concat(i.slice(0,-3),"k+")),a&&(t=new Date(a).toLocaleString()),'\n  <div class="marker-container">\n    <span class="icon-marker-tooltip">\n        <h2>'.concat(c,"</h2>\n        <ul>\n        <li><strong>Confirmed:</strong> ").concat(n,"</li>\n        <li><strong>Deaths:</strong> ").concat(s,"</li>\n        <li><strong>Recovered:</strong> ").concat(r,"</li>\n        <li><strong>Last Update:</strong> ").concat(t,'</li>\n        </ul>\n    </span>\n    <span class="icon-marker" style="').concat(g(n),'">\n        ').concat(i,"\n    </span>\n  </div>\n        ")},v=function(){var e=Object(a.useState)([]),t=Object(i.a)(e,2),c=t[0],n=t[1],s=Object(a.useState)(),r=Object(i.a)(s,2),o=r[0],u=r[1],O=Object(a.useRef)(!1),g=Object(a.useCallback)((function(){fetch("https://disease.sh/v3/covid-19/countries").then((function(e){return e.json()})).then((function(e){n(e)})).catch((function(e){console.warn({err:e})}))}),[]);Object(a.useEffect)((function(){g()}),[]),Object(a.useEffect)((function(){o&&c&&!O.current&&v(c)}),[o,c]);var v=function(e){if(Array.isArray(e)&&e.length>0){var t={type:"FeatureCollection",features:e.map((function(e){var t=e.countryInfo,c=void 0===t?{}:t,a=c.lat,n=c.long;return{type:"Feature",properties:Object(b.a)({},e),geometry:{type:"Point",coordinates:[n,a]}}}))};new m.a.GeoJSON(t,{pointToLayer:function(e,t){var c=e.properties,a=void 0===c?{}:c;return m.a.marker(t,{icon:m.a.divIcon({className:"icon",html:p(a)}),riseOnHover:!0})}}).addTo(o),O.current=!0}};return Object(l.jsx)(d.a,{center:[0,0],zoom:2.3,scrollWheelZoom:!1,whenCreated:u,children:Object(l.jsxs)(j.a,{children:[Object(l.jsx)(j.a.BaseLayer,{checked:!0,name:"OpenStreetMap",children:Object(l.jsx)(h.a,{url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",attribution:'\xa9 <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'})}),Object(l.jsx)(j.a.BaseLayer,{name:"Dark theme",children:Object(l.jsx)(h.a,{attribution:'&copy; <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a> &copy; <a href="http://cartodb.com/attributions">CartoDB</a>',url:"https://cartodb-basemaps-{s}.global.ssl.fastly.net/dark_all/{z}/{x}/{y}.png"})})]})})},f=(c(22),function(){var e=Object(a.useState)({}),t=Object(i.a)(e,2),c=t[0],n=t[1],s=Object(a.useCallback)((function(){fetch("https://disease.sh/v3/covid-19/all").then((function(e){return e.json()})).then((function(e){n(e)})).catch((function(e){console.warn({err:e})}))}),[]);return Object(a.useEffect)((function(){s()}),[]),Object.keys(c).length>0?Object(l.jsxs)("div",{children:[Object(l.jsxs)("div",{className:"tabs-wrapper",children:[Object(l.jsxs)("div",{className:"block",children:[Object(l.jsxs)("div",{className:"block-main",children:[Object(l.jsx)("label",{className:"label-big",children:"Total cases"}),Object(l.jsx)("div",{className:"number-big",children:c.cases.toLocaleString()})]}),Object(l.jsxs)("div",{className:"block-extra",children:[Object(l.jsx)("label",{className:"label-big",children:"Today cases"}),Object(l.jsx)("div",{className:"number-big",children:c.todayCases.toLocaleString()})]})]}),Object(l.jsxs)("div",{className:"block",children:[Object(l.jsxs)("div",{className:"block-main",children:[Object(l.jsx)("label",{className:"label-big",children:"Total deaths"}),Object(l.jsx)("div",{className:"number-big",children:c.deaths.toLocaleString()})]}),Object(l.jsxs)("div",{className:"block-extra",children:[Object(l.jsx)("label",{className:"label-big",children:"Today deaths"}),Object(l.jsx)("div",{className:"number-big",children:c.todayDeaths.toLocaleString()})]})]}),Object(l.jsxs)("div",{className:"block",children:[Object(l.jsxs)("div",{className:"block-main",children:[Object(l.jsx)("label",{className:"label-big",children:"Total recovered"}),Object(l.jsx)("div",{className:"number-big",children:c.recovered.toLocaleString()})]}),Object(l.jsxs)("div",{className:"block-extra",children:[Object(l.jsx)("label",{className:"label-big",children:"Today recovered"}),Object(l.jsx)("div",{className:"number-big",children:c.todayRecovered.toLocaleString()})]})]}),Object(l.jsxs)("div",{className:"block",children:[Object(l.jsxs)("div",{className:"block-main",children:[Object(l.jsx)("label",{className:"label-big",children:"Total tests"}),Object(l.jsx)("div",{className:"number-big",children:c.tests.toLocaleString()})]}),Object(l.jsxs)("div",{className:"block-extra",children:[Object(l.jsx)("label",{className:"label-big",children:"Tests per one million"}),Object(l.jsx)("div",{className:"number-big",children:c.testsPerOneMillion.toLocaleString()})]})]})]}),Object(l.jsxs)("div",{className:"last-updated",children:["Last update ",new Date(c.updated).toISOString()]})]}):null}),x=Object(a.createContext)({darkTheme:!0,setDarkTheme:function(e){}}),N=function(){var e=Object(a.useState)(!0),t=Object(i.a)(e,2),c=t[0],n=t[1];return Object(l.jsxs)(x.Provider,{value:{darkTheme:c,setDarkTheme:n},children:[Object(l.jsx)(v,{}),Object(l.jsx)(f,{}),Object(l.jsx)(o,{})]})};c(23);var y=function(){return Object(l.jsx)("div",{children:Object(l.jsx)(N,{})})},k=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,29)).then((function(t){var c=t.getCLS,a=t.getFID,n=t.getFCP,s=t.getLCP,r=t.getTTFB;c(e),a(e),n(e),s(e),r(e)}))};r.a.render(Object(l.jsx)(n.a.StrictMode,{children:Object(l.jsx)(y,{})}),document.getElementById("root")),k()}],[[24,1,2]]]);
//# sourceMappingURL=main.da14d947.chunk.js.map